<div class="card">

    <h5>Ventas de Caja <i class="fas fa-money-bill-alt"></i></h5>
    <p class="p-1">Consulta tus ventas entre fechas</p>

    <div class="d-flex flex-row justify-content-center bd-highlight">
        <div class="col-sm-3">
            <div class="row">
                <div class="col">
                    <label for="totalcosto" class=" bd-highlight colorletras">Total Costo</label>
                    <input id="totalcosto" type="text" class="text center" readonly>
                </div>    
                <div class="col">
                    <label for="totalventa" class=" bd-highlight colorletras">Total Venta</label>
                    <input id="totalventa" type="text" class="text center" readonly>
                </div>
            </div>
           
        </div>
        <div class="col-sm-3">
            <label for="fechaventadesde" class=" bd-highlight colorletras"> Desde Fecha</label>
            <input id="fechaventadesde" style="font-size: 1.3em;" type="text" class="datepicker center" readonly>
        </div>
        <div class="col-sm-3">
            <label for="fechaventahasta" class=" bd-highlight colorletras">Hasta Fecha</label>
            <input id="fechaventahasta" style="font-size: 1.3em;" type="text" class="datepicker center" readonly>
        </div>
        <div class="col-sm-3">
            <div class="row">
                <div class="col">
                    <label for="rentabilidadpesos" class=" bd-highlight colorletras">Rentabilidad $</label>
                    <input id="rentabilidadpesos" type="text" class="text center" readonly>
                </div>

                <div class="col">
                    <label for="rentabilidadporcentaje" class=" bd-highlight colorletras">Rentabilidad %</label>
                    <input id="rentabilidadporcentaje" type="text" class="text center" readonly>
                </div>
            </div>  
        </div>
        
    </div>
    <div class="table-responsive">
        <table id="tablacaja" class="display table table-striped">
            <thead>
                <tr>
                    <th>Fecha</th>
                    <th>Título</th>
                    <th>Descripción</th>
                    <th class="masmenoscolumna">Cantidad</th>
                    <th>Precio vta</th>
                    <th>Total vta</th>
                    
                    <th>Cliente</th>
                    <th>Rubro</th>
                    <th class="columnadedos">Costo Unidad</th>
                    <th class="columnadedos">Costo Total</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td class="masmenoscolumna"></td>
                    <td></td>
                    <td></td>
                    
                    <td></td>
                    <td></td>
                    <td class="columnadedos"></td>
                    <td class="columnadedos"></td>
                </tr>
            </tbody>
        </table>
    </div>
  
</div>




<script>

function consultacajaenterdias() 
{
    var fechaventadesde = $("#fechaventadesde").val();
    fechaventaenviadadesde = conviertefechaastringdmy(fechaventadesde);
   
    var fechaventahasta = $("#fechaventahasta").val();
    fechaventaenviadahasta = conviertefechaastringdmy(fechaventahasta);
   
    
    consultacaja(fechaventaenviadadesde, fechaventaenviadahasta);
}

$(document).ready(function () 
{
    configuracalendario();
    configuraciontablacaja('#tablacaja');

    function inicioconsulta(){

        //agrego un texto que mejora la vista para buscar
        var newItem = document.createElement("h5");
        var textnode = document.createTextNode("Filtro de búsqueda");
        newItem.appendChild(textnode);

        var taf = document.getElementById("tablacaja_filter");
        taf.insertBefore(newItem, taf.childNodes[0]);
    }

    //trae los anuncios al cargar la pagina
    inicioconsulta();

    
    $("#fechaventadesde").change(function () {
        consultacajaenterdias();
    });

    $("#fechaventahasta").change(function () {
        consultacajaenterdias();
    });

    function colocafechaactual(){

        
        var f = new Date();
        var mes = f.getMonth() + 1;
        var dia = f.getDay();
        
        if(dia<10)
        {
            dia = "0" + dia;
        }
        if(mes<10){
            mes = "0" + mes;
        }
        
        var fechaactual = dia + "-" + mes + "-" + f.getFullYear();
        document.getElementById("fechaventadesde").value= fechaactual;
        document.getElementById("fechaventahasta").value = fechaactual;

       
        consultacajaenterdias();

    }
    colocafechaactual();
});

</script>